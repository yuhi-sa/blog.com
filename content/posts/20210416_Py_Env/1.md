---
title: "PyenvとAnacondaを用いたPython開発環境の構築"
date: 2021-04-16T10:00:23+09:00
draft: false
tags: ["Python", "環境構築"] 
---
<!--more-->
Pythonでの開発において、プロジェクトごとに異なるPythonのバージョンやライブラリを管理することは非常に重要です。本記事では、`pyenv` と `Anaconda` を組み合わせて、柔軟かつ効率的なPython開発環境を構築する方法を解説します。

## 1. Homebrewのインストール

### Homebrewとは
Homebrewは、macOS（およびLinux）向けの**パッケージマネージャー**です。コマンドラインから簡単にソフトウェアのインストール、更新、アンインストールを行うことができます。

### インストール方法
1.  ターミナルを開きます。
2.  以下のスクリプトを実行します。
    ```bash
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    ```
3.  インストールが完了し、`Installation Successful` と表示されたら完了です。

### 基本的な使い方
-   `brew update`: Homebrewのパッケージリストを更新します。
-   `brew upgrade`: インストール済みのパッケージを最新版にアップグレードします。
-   `brew list`: インストール済みのパッケージ一覧を表示します。
-   `brew install [パッケージ名]`: 指定したパッケージをインストールします。
-   `brew uninstall [パッケージ名]`: 指定したパッケージをアンインストールします。
-   `brew info [パッケージ名]`: 指定したパッケージの詳細情報を表示します。

## 2. pyenvのインストール

### pyenvとは
`pyenv` は、複数のPythonバージョンをシステムにインストールし、プロジェクトやディレクトリごとに簡単に切り替えて使用できる**Pythonバージョン管理ツール**です。これにより、異なるプロジェクトでPythonのバージョンが競合する問題を回避できます。

### インストール方法
1.  Homebrewを使って `pyenv` をインストールします。
    ```bash
    brew install pyenv
    ```
2.  `pyenv` を使用するために、環境変数を設定し、シェルに `pyenv` の初期化スクリプトを読み込ませます。
    ```bash
    echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.bash_profile
    echo 'export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.bash_profile
    echo 'eval "$(pyenv init --path)"' >> ~/.bash_profile # `pyenv` の実行パスを環境変数に追加します。
    echo 'eval "$(pyenv init -)"' >> ~/.bash_profile # `pyenv` のコマンドを有効にするための初期化スクリプトを実行します。
    ```
    -   `~/.bash_profile`: Bashシェルが起動する際に自動的に読み込まれる設定ファイルです。
    -   `export PATH="..."`: 実行ファイルの検索パスに `pyenv` のバイナリディレクトリを追加します。
    -   `eval "$(pyenv init -)"`: `pyenv` のコマンドを有効にするための初期化スクリプトを実行します。

    **注意**: 使用しているシェルがZshの場合は `~/.zshrc` に、Fishの場合は `~/.config/fish/config.fish` に追記してください。変更を適用するには、ターミナルを再起動するか、`source ~/.bash_profile` (または該当する設定ファイル) を実行します。

## 3. Anacondaのインストール

### Anacondaとは
Anacondaは、データサイエンスや機械学習に特化したPythonの**ディストリビューション**です。Python本体に加えて、NumPy, pandas, scikit-learn, Jupyter Notebookなど、多くの科学計算ライブラリやツールが事前にパッケージ化されており、環境構築の手間を大幅に削減できます。

### インストール方法
1.  `pyenv` を通じてインストール可能なAnacondaのバージョンを検索します。
    ```bash
    pyenv install -l | grep anaconda
    ```
    出力例:
    ```
    anaconda-1.4.0
    ...
    anaconda3-5.3.1
    ...
    ```
    `grep` コマンドは、パイプ `|` で渡された `pyenv install -l` の出力から「anaconda」という文字列を含む行をフィルタリングします。

2.  最新のPython 3系に対応するAnacondaバージョン（例: `anaconda3-5.3.1`）をインストールします。
    ```bash
    pyenv install anaconda3-5.3.1
    ```
    インストールには時間がかかる場合があります。

3.  インストールしたAnaconda環境をグローバル（システム全体）で使用するように設定します。
    ```bash
    pyenv global anaconda3-5.3.1
    ```
    これで、ターミナルを開いた際にデフォルトでこのAnaconda環境が使用されるようになります。特定のプロジェクトでのみ使用したい場合は、そのディレクトリで `pyenv local anaconda3-5.3.1` を実行します。

これらの手順で、`pyenv` によるPythonバージョン管理と、`Anaconda` による豊富なライブラリが統合された開発環境が構築されます。
